const _0xe62859=_0x251c;(function(_0x41d94d,_0xe5d0b6){const _0x3ed77b=_0x251c,_0x33e89e=_0x41d94d();while(!![]){try{const _0x40fa13=parseInt(_0x3ed77b(0x101))/0x1+-parseInt(_0x3ed77b(0xe4))/0x2*(-parseInt(_0x3ed77b(0xdd))/0x3)+parseInt(_0x3ed77b(0xc4))/0x4*(-parseInt(_0x3ed77b(0xaa))/0x5)+parseInt(_0x3ed77b(0xa4))/0x6*(parseInt(_0x3ed77b(0xe8))/0x7)+-parseInt(_0x3ed77b(0x10c))/0x8+parseInt(_0x3ed77b(0xcb))/0x9*(parseInt(_0x3ed77b(0xb7))/0xa)+-parseInt(_0x3ed77b(0xf1))/0xb*(-parseInt(_0x3ed77b(0xf3))/0xc);if(_0x40fa13===_0xe5d0b6)break;else _0x33e89e['push'](_0x33e89e['shift']());}catch(_0x9b530){_0x33e89e['push'](_0x33e89e['shift']());}}}(_0x5ec8,0x1bfc1));function _0x5ec8(){const _0x5c0663=['https://cdn.jsdelivr.net/npm/chart.js','forEach','filter','scrollTop','10iNZDQx','.a-price\x20.a-price-whole','#f08080','\x0a\x20\x20\x20\x20\x20\x20\x20\x20#','graphContainer','appendChild','#aod-pinned-offer','innerText','location','innerHTML','entries','length','map','500MwVIJL','article','Error\x20during\x20scrolling:','push','\x20.ad-link:hover\x20.ad-title\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-decoration:\x20underline;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20#','::before\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20content:\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x20-10px;\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20コンテナのパディングを相殺\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x20-10px;\x20\x20\x20\x20\x20\x20\x20\x20/*\x20コンテナのパディングを相殺\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x201px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#d5d9d9;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20#','disconnect','368289qOkqee','alt','#dynamic-aod-ingress-box,\x20#unqualifiedBuyBox','all-offers-display-scroller','amzn-chart','#de7921','body','thumbnail','sort','#f3e20e','chart','ad-thumbnail','href','amzn-ad-container','\x20.ad-title\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2013px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x2019px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','src','Failed\x20to\x20load\x20','#aod-offer','3QzTVbn','[data-action=\x22close-all-offers-display\x22]','\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#d5d9d9;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20','ad-link','target','Error\x20in\x20getStockAndPrice:','中古商品\x20-\x20良い','91402BIPoiV','style','\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20relative;\x20\x20/*\x20疑似要素のための位置コンテキスト\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding-top:\x2015px;\x20\x20\x20/*\x20境界線との間のスペース\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20#','fromEntries','648809RwtlkQ','log','Amazonの在庫をグラフ化！便利な価格比較ツール','bar','querySelectorAll','createElement','observe','\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2015px;\x20\x20/*\x20グラフと境界線の間のスペースを増やす\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20#','head','38203TQodUq','\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#d5d9d9;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20280px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20#','348JBlXVv','#buybox-see-all-buying-choices\x20a','click','getContext','ad-title','#4dc0b5','message','getElementById','after','[data-action=\x22show-all-offers-display\x22]','_blank','[data-action=\x22aod-close-on-esc-action\x22]','.a-declarative','title','35981GtKULi','width','#aod-offer-heading','img','\x20.ad-thumbnail\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20120px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2080px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20#','type','height','Reached\x20the\x20bottom\x20of\x20the\x20scrollable\x20div.','adContainer','className','onload','796056vzkuKs','canvas','6OeJFwT','ids','scrollHeight','このブックマークレットはAmazon.co.jpでのみ使用できます。','www.amazon.co.jp','グラフはすでに表示されています。再読み込みしてから再度実行してください。','4075lyXgvu','textContent','スクロール中にエラーが発生しました。','top','replace','https://news.yahoo.co.jp/pickup/6515427','querySelector','div','hostname'];_0x5ec8=function(){return _0x5c0663;};return _0x5ec8();}const CONFIG={'chartJs':_0xe62859(0xb3),'ids':{'graphContainer':'amzn-graph-container','chart':_0xe62859(0xcf),'adContainer':_0xe62859(0xd8)},'article':{'title':_0xe62859(0xea),'thumbnail':'https://assets.st-note.com/production/uploads/images/34857484/rectangle_large_type_2_739b1ce323ad036e9c6671f5623cdfc4.jpg?width=1200','url':_0xe62859(0xaf)}};function addContainerStyles(){const _0xd9e0c0=_0xe62859,_0x841240=document[_0xd9e0c0(0xed)](_0xd9e0c0(0xe5));_0x841240[_0xd9e0c0(0xc0)]=_0xd9e0c0(0xba)+CONFIG['ids'][_0xd9e0c0(0xbb)]+_0xd9e0c0(0xf2)+CONFIG[_0xd9e0c0(0xa5)][_0xd9e0c0(0xd5)]+_0xd9e0c0(0xef)+CONFIG[_0xd9e0c0(0xa5)][_0xd9e0c0(0x109)]+_0xd9e0c0(0xe6)+CONFIG['ids']['adContainer']+_0xd9e0c0(0xc9)+CONFIG[_0xd9e0c0(0xa5)]['adContainer']+'\x20.ad-link\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-decoration:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#0066c0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20flex-start;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+CONFIG['ids']['adContainer']+'\x20.ad-link:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#c45500;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+CONFIG[_0xd9e0c0(0xa5)][_0xd9e0c0(0x109)]+_0xd9e0c0(0xc8)+CONFIG[_0xd9e0c0(0xa5)]['adContainer']+_0xd9e0c0(0x105)+CONFIG['ids']['adContainer']+_0xd9e0c0(0xd9),document[_0xd9e0c0(0xf0)][_0xd9e0c0(0xbc)](_0x841240);}function createAdContainer(){const _0xd431fd=_0xe62859,_0x7047e1=document[_0xd431fd(0xed)](_0xd431fd(0xb1));_0x7047e1['id']=CONFIG[_0xd431fd(0xa5)][_0xd431fd(0x109)];const _0x196ef6=document[_0xd431fd(0xed)]('a');_0x196ef6[_0xd431fd(0xd7)]=CONFIG['article']['url'],_0x196ef6['className']=_0xd431fd(0xe0),_0x196ef6[_0xd431fd(0xe1)]=_0xd431fd(0xfd),_0x196ef6['rel']='noopener\x20noreferrer';const _0x5cbcf4=document[_0xd431fd(0xed)](_0xd431fd(0x104));_0x5cbcf4['src']=CONFIG[_0xd431fd(0xc5)][_0xd431fd(0xd2)],_0x5cbcf4[_0xd431fd(0xcc)]=CONFIG[_0xd431fd(0xc5)][_0xd431fd(0x100)],_0x5cbcf4['className']=_0xd431fd(0xd6);const _0x3b9b26=document['createElement']('span');return _0x3b9b26[_0xd431fd(0xab)]=CONFIG['article']['title'],_0x3b9b26[_0xd431fd(0x10a)]=_0xd431fd(0xf7),_0x196ef6[_0xd431fd(0xbc)](_0x5cbcf4),_0x196ef6[_0xd431fd(0xbc)](_0x3b9b26),_0x7047e1[_0xd431fd(0xbc)](_0x196ef6),_0x7047e1;}function showBarChart(){const _0x14b4d1=_0xe62859,{labels:_0x105f6b,datasets:_0x55c49a}=createChartDataset(),_0x306602=createGraphContainer();console[_0x14b4d1(0xe9)](_0x105f6b,_0x55c49a),appendGraphContainerToDOM(_0x306602),renderChart(_0x306602[_0x14b4d1(0xb0)]('#'+CONFIG[_0x14b4d1(0xa5)][_0x14b4d1(0xd5)]),_0x105f6b,_0x55c49a);}function _0x251c(_0xbafbab,_0x257ea4){const _0x5ec85f=_0x5ec8();return _0x251c=function(_0x251c41,_0x538bc0){_0x251c41=_0x251c41-0xa4;let _0x408d2b=_0x5ec85f[_0x251c41];return _0x408d2b;},_0x251c(_0xbafbab,_0x257ea4);}function initializeScript(){const _0x2d7c16=_0xe62859;try{if(window[_0x2d7c16(0xbf)][_0x2d7c16(0xb2)]!==_0x2d7c16(0xa8))throw new Error(_0x2d7c16(0xa7));if(document[_0x2d7c16(0xfa)](CONFIG[_0x2d7c16(0xa5)][_0x2d7c16(0xbb)]))throw new Error(_0x2d7c16(0xa9));loadChartJsLibrary();}catch(_0x52791c){alert(_0x52791c['message']);}}async function loadChartJsLibrary(){try{await loadScript(CONFIG['chartJs']),await clickAndScroll();}catch(_0x398df4){alert('Chart.jsの読み込みに失敗しました:\x20'+_0x398df4['message']);}}function loadScript(_0x1f489f){return new Promise((_0x2889cd,_0x122d7d)=>{const _0x570363=_0x251c,_0x597f98=document['createElement']('script');_0x597f98[_0x570363(0xda)]=_0x1f489f,_0x597f98[_0x570363(0x10b)]=_0x2889cd,_0x597f98['onerror']=()=>_0x122d7d(new Error(_0x570363(0xdb)+_0x1f489f)),document[_0x570363(0xf0)][_0x570363(0xbc)](_0x597f98);});}function createChartDataset(){const _0xa9f06f=_0xe62859,_0x43c7ce=getAllSellersInfo(),_0x19486e=Array['from'](new Set(_0x43c7ce[_0xa9f06f(0xc3)](_0x4c6740=>_0x4c6740[0x1])))[_0xa9f06f(0xd3)]((_0x10c33a,_0x2a824f)=>_0x10c33a-_0x2a824f),_0x34ab9c=filterSellersByCondition(_0x43c7ce,'新品'),_0x4572b7=filterSellersByCondition(_0x43c7ce,'中古商品\x20-\x20非常に良い'),_0x24574b=filterSellersByCondition(_0x43c7ce,'中古商品\x20-\x20ほぼ新品'),_0x3931d4=filterSellersByCondition(_0x43c7ce,_0xa9f06f(0xe3)),_0x583538=filterSellersByCondition(_0x43c7ce,'中古商品\x20-\x20可');return{'labels':_0x19486e[_0xa9f06f(0xc3)](_0x579a18=>String(_0x579a18)),'datasets':[{'label':'新品','data':mapPricesToLabels(_0x19486e,sumByIndex(_0x34ab9c)),'backgroundColor':_0xa9f06f(0xd0)},{'label':'非常に良い','data':mapPricesToLabels(_0x19486e,sumByIndex(_0x4572b7)),'backgroundColor':'#5fba7d'},{'label':'ほぼ新品','data':mapPricesToLabels(_0x19486e,sumByIndex(_0x24574b)),'backgroundColor':_0xa9f06f(0xf8)},{'label':'良い','data':mapPricesToLabels(_0x19486e,sumByIndex(_0x3931d4)),'backgroundColor':_0xa9f06f(0xd4)},{'label':'可','data':mapPricesToLabels(_0x19486e,sumByIndex(_0x583538)),'backgroundColor':_0xa9f06f(0xb9)}]};}function mapPricesToLabels(_0x44806c,_0x1348e8){const _0x4030a7=_0xe62859,_0x17ad7c=Object[_0x4030a7(0xe7)](_0x1348e8);return _0x44806c['map'](_0x4441f4=>_0x17ad7c[_0x4441f4]||0x0);}function getAllSellersInfo(){const _0x13c822=_0xe62859,_0x48b231=[],_0x16bef2=[document[_0x13c822(0xb0)](_0x13c822(0xbd)),...Array['from'](document[_0x13c822(0xec)](_0x13c822(0xdc)))];for(const _0x39450c of _0x16bef2){const _0x1436d7=getStockAndPrice(_0x39450c);if(_0x1436d7)_0x48b231[_0x13c822(0xc7)](_0x1436d7);}return _0x48b231;}function filterNewSellers(_0x271575){const _0x8d7ea7=_0xe62859;return _0x271575[_0x8d7ea7(0xb5)](_0x7c31ff=>_0x7c31ff[0x0]==='新品')[_0x8d7ea7(0xc3)](_0x2b8ab6=>[_0x2b8ab6[0x1],_0x2b8ab6[0x2]]);}function filterSellersByCondition(_0x528c5c,_0x2fb062){const _0x2499e6=_0xe62859;return _0x528c5c[_0x2499e6(0xb5)](_0x1d23f4=>_0x1d23f4[0x0]===_0x2fb062)[_0x2499e6(0xc3)](_0x520873=>[_0x520873[0x1],_0x520873[0x2]]);}function sumByIndex(_0x311088){const _0x15a36c=_0xe62859,_0x2bfcc3={};return _0x311088[_0x15a36c(0xb4)](([_0x249b51,_0x4f4b44])=>{_0x2bfcc3[_0x249b51]=(_0x2bfcc3[_0x249b51]||0x0)+parseInt(_0x4f4b44);}),Object[_0x15a36c(0xc1)](_0x2bfcc3);}function createGraphContainer(){const _0x4eb845=_0xe62859,_0x3c9385=document['createElement'](_0x4eb845(0xb1));_0x3c9385['id']=CONFIG[_0x4eb845(0xa5)]['graphContainer'];const _0x22ca7d=createCanvas();_0x3c9385[_0x4eb845(0xbc)](_0x22ca7d);const _0x23cc4f=document['createElement']('hr');_0x3c9385[_0x4eb845(0xbc)](_0x23cc4f);const _0x1cbc4b=createAdContainer();return _0x3c9385[_0x4eb845(0xbc)](_0x1cbc4b),addContainerStyles(),_0x3c9385;}function addContainerStyles(){const _0xd02b6d=_0xe62859,_0x21b662=document[_0xd02b6d(0xed)](_0xd02b6d(0xe5));_0x21b662[_0xd02b6d(0xc0)]=_0xd02b6d(0xba)+CONFIG[_0xd02b6d(0xa5)][_0xd02b6d(0xbb)]+_0xd02b6d(0xdf),document[_0xd02b6d(0xf0)][_0xd02b6d(0xbc)](_0x21b662);}function createCanvas(){const _0x10385f=_0xe62859,_0x4cee85=document[_0x10385f(0xed)](_0x10385f(0x10d));return _0x4cee85['id']=CONFIG[_0x10385f(0xa5)][_0x10385f(0xd5)],_0x4cee85[_0x10385f(0x102)]=0x118,_0x4cee85[_0x10385f(0x107)]=0x190,_0x4cee85;}function appendGraphContainerToDOM(_0x423a89){const _0x40e61d=_0xe62859,_0xcd26da=document[_0x40e61d(0xb0)](_0x40e61d(0xcd));_0xcd26da[_0x40e61d(0xfb)](_0x423a89);}function renderChart(_0x559e58,_0x33ff05,_0x21f0ff){const _0x5c249d=_0xe62859,_0x170ab2=_0x559e58[_0x5c249d(0xf6)]('2d');new Chart(_0x170ab2,{'type':_0x5c249d(0xeb),'data':{'labels':_0x33ff05,'datasets':_0x21f0ff},'options':{'indexAxis':'y','scales':{'x':{'stacked':!![],'min':0x0},'y':{'stacked':!![],'reverse':!![]}},'responsive':!![],'plugins':{'legend':{'position':_0x5c249d(0xad)}}}});}async function scrollDivToBottom(){const _0x42f828=_0xe62859,_0x3b507a=document[_0x42f828(0xfa)](_0x42f828(0xce));if(!_0x3b507a){showBarChart();const _0x1bc994=document['querySelector'](_0x42f828(0xde));if(_0x1bc994)_0x1bc994[_0x42f828(0xf5)]();return;}try{let _0x348c97=_0x3b507a[_0x42f828(0xb6)],_0x3e99b3=0x0;const _0x45d3c2=0xa;while(_0x3e99b3<_0x45d3c2){_0x3b507a['scrollTop']=_0x3b507a[_0x42f828(0xa6)],await new Promise(_0x3fa8dd=>setTimeout(_0x3fa8dd,0x3e8));if(_0x3b507a['scrollTop']===_0x348c97){console[_0x42f828(0xe9)](_0x42f828(0x108));break;}_0x348c97=_0x3b507a[_0x42f828(0xb6)],_0x3e99b3++;}showBarChart();}catch(_0x119d8f){console['error'](_0x42f828(0xc6),_0x119d8f),alert(_0x42f828(0xac));}finally{const _0x9f98b0=document[_0x42f828(0xb0)]('[data-action=\x22close-all-offers-display\x22]');if(_0x9f98b0)_0x9f98b0[_0x42f828(0xf5)]();}}function clickAndScroll(){const _0x207865=_0xe62859,_0xe4aaed=document[_0x207865(0xb0)](_0x207865(0xfc));if(!_0xe4aaed){alert('出品者が1人以下のためグラフ描画を中止します。');return;}else{const _0x2b4ba6=_0xe4aaed[_0x207865(0xb0)](_0x207865(0xf4));console['log'](_0x2b4ba6),!_0x2b4ba6?_0xe4aaed[_0x207865(0xf5)]():_0x2b4ba6[_0x207865(0xf5)]();}const _0x4d372e=new MutationObserver((_0x3383b9,_0x12c920)=>{const _0x3e4b1b=_0x207865;for(let _0x387321 of _0x3383b9){if(_0x387321[_0x3e4b1b(0x106)]==='childList'){const _0x5d43d8=document[_0x3e4b1b(0xb0)](_0x3e4b1b(0xfe));if(_0x5d43d8){scrollDivToBottom(),_0x12c920[_0x3e4b1b(0xca)]();break;}}}});_0x4d372e[_0x207865(0xee)](document[_0x207865(0xd1)],{'childList':!![],'subtree':!![]});}function getStockAndPrice(_0x3b7a1d){const _0x95a6d1=_0xe62859;try{const _0x469069=_0x3b7a1d[_0x95a6d1(0xb0)](_0x95a6d1(0x103))['textContent']['trim']()[_0x95a6d1(0xae)]('\x0a','\x20')[_0x95a6d1(0xae)](/ +/g,'\x20'),_0x219125=parseInt(_0x3b7a1d['querySelector'](_0x95a6d1(0xb8))[_0x95a6d1(0xbe)][_0x95a6d1(0xae)](/[^0-9]/g,''));let _0x303270=0x1;const _0x4936fc=_0x3b7a1d['querySelector']('[id*=\x22aod-offer-qty-component-\x22]');if(_0x4936fc){const _0x2a521d=_0x4936fc['querySelectorAll'](_0x95a6d1(0xff));_0x303270=parseInt(_0x2a521d[_0x2a521d[_0x95a6d1(0xc2)]-0x1][_0x95a6d1(0xbe)][_0x95a6d1(0xae)](/[^0-9]/g,''));}return[_0x469069,_0x219125,_0x303270];}catch(_0x25085e){return console[_0x95a6d1(0xe9)](_0x95a6d1(0xe2),_0x25085e[_0x95a6d1(0xf9)]),null;}}initializeScript();